name: Test action

on:
  push:
    branch: main

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
    - name: Upload test.txt
      uses: ./
      with:
        credentials: ${{ secrets.GOOGLE_DRIVE_CREDENTIALS_BASE64 }}
        target: test/test.txt
        parent_folder_id: ${{ secrets.GOOGLE_DRIVE_FOLDER_ID }}
        overwrite: true
    - name: Upload spreadsheet.xlsx
      uses: ./
      with:
        credentials: ${{ secrets.GOOGLE_DRIVE_CREDENTIALS_BASE64 }}
        target: test/spreadsheet.xlsx
        name: spreadsheet
        parent_folder_id: ${{ secrets.GOOGLE_DRIVE_FOLDER_ID }}
        overwrite: true
        mime_type: 'application/vnd.google-apps.spreadsheet'
